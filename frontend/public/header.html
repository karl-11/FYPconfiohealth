<!-- top navbar 1 (non-sticky)-->
<nav class="bg-white mt-md-3">

    <div class="row g-0">
        <div class="col-12 col-md-5 text-center text-md-left">
            <a id="logo" href="homepage.html"><img src="./images/logo.png" alt="Avatar Logo" style="width:50px;"></a>
            <a id="logoname" class="navbar-brand align-middle font-logo" href="homepage.html">Confio Health</a>
        </div>

        <ul class="navbar-nav col-md-7 col-12 my-auto justify-content-center">
            <div class="row g-0">
                <li class="nav-item my-auto col text-center">
                    <a class="nav-link " href="#" data-bs-toggle="modal" data-bs-target="#clinicModal">Clinic</a>
                </li>
                <li class="nav-item my-auto col text-center">
                    <a class="nav-link " href="#" data-bs-toggle="modal"
                    data-bs-target="#contactUsModal">Pricing</a>
                </li>
                <li class="nav-item my-auto col text-center">
                    <a class="nav-link text-muted" href="#" data-bs-toggle="modal" data-bs-target="#aboutUsModal">About
                    </a>
                </li>
                <li class="nav-item my-auto col text-center">
                    <a class="nav-link text-muted" href="#" data-bs-toggle="modal"
                        data-bs-target="#contactUsModal">Contact
                    </a>
                </li>

                <div class="d-flex col w-100">
                    <li class="nav-item my-auto mx-auto p-2">
                        <a class="nav-link border text-white rounded-3 p-2" href="Login.html" id="Loginpage"
                            style="background-color: #43AEA1 ;">Sign in</a>

                        <button class="nav-link border text-white rounded-3 p-2" id="logOutBtn" onclick="logOut()"
                            style="
                        background-color: #43AEA1;">Logout</button>
                    </li>
                </div>

            </div>

        </ul>
    </div>
</nav>


<!-- top navbar 2 (sticky)-->
<nav id="navbar2" class=" py-2 bg-white sticky-top border-bottom border-3 border-beige">

    <div class="row g-0">
        <div class="col-3 text-center px-2 my-auto">
            <a class="nav-link text-black" id="profilenav" href="profile.html"><strong>Health
                    Profile</strong></a>
        </div>
        <div class="col-3 text-center px-2 my-auto">
            <a class="nav-link text-black" id="vitalsnav" href="vitals.html"><strong>Vital Signs</strong></a>
        </div>
        <div class="col-3 text-center px-2 my-auto">
            <a class="nav-link text-black" id="reportsnav" href="reports.html"><strong>Investigation
                    Reports</strong></a>
        </div>
        <div class="col-3 text-center px-2 my-auto">
            <a class="nav-link text-black" id="risknav" href="risk_identification.html"><strong>Risk
                    Identification</strong></a>
        </div>

    </div>
</nav>

<nav id="navbarline" class="border-bottom  border-3 border-beige"></nav>

<script>
    if (localStorage.getItem("loggedInUserType") === null) {
        // document.getElementById("UserProfile").style.display = "none";
        document.getElementById("logOutBtn").style.display = "none";
        document.getElementById("navbar2").style.display = "none";

    } else {
        document.getElementById("Loginpage").style.display = "none";
        document.getElementById("navbarline").style.display = "none";

    }
    // Data extraction from localstorage
    const loggedInUserType = localStorage.getItem('loggedInUserType');
    // for doctor extracting patient id from url
    if (loggedInUserType == "doctor") {
        const myUrl = new URL(window.location.toLocaleString()).searchParams;
        var patientid = myUrl.get("patientid");
        console.log(patientid);
        if (patientid != null) {
            document.getElementById('profilenav').href = "profile.html?patientid=" + patientid;
            document.getElementById('vitalsnav').href = "vitals.html?patientid=" + patientid;
            document.getElementById('reportsnav').href = "reports.html?patientid=" + patientid;
            document.getElementById('risknav').href = "risk_identification.html?patientid=" + patientid;
            document.getElementById('logoname').href = "doctorpage.html?patientid=" + patientid;
            document.getElementById('logo').href = "doctorpage.html?patientid=" + patientid;
        } else {
            document.getElementById('profilenav').href = "doctorpage.html";
            document.getElementById('vitalsnav').href = "doctorpage.html";
            document.getElementById('reportsnav').href = "doctorpage.html";
            document.getElementById('risknav').href = "doctorpage.html";
            document.getElementById('logoname').href = "doctorpage.html";
            document.getElementById('logo').href = "doctorpage.html";
        }
    }

    function logOut() {
        localStorage.clear();
        window.location.href = '/'
    }
</script>

<!-- Modal for header + footer -->
<div class="modal fade" id="clinicModal" tabindex="-1" aria-labelledby="clinicModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Our Clinic Address</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Located in: Depot Heights Shopping Centre <br>
                Address: 108 Depot Rd, #01-10, Singapore 100108
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="contactUsModal" tabindex="-1" aria-labelledby="contactUsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Contact Us</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Phone:
                <a href="tel:6278 0088">6278 0088</a>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="aboutUsModal" tabindex="-1" aria-labelledby="aboutUsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">About Us</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>
                    Started by doctors who witness their patient daily struggles, the Confio team aims to empower
                    patients to live better through personalisation around their lives.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>